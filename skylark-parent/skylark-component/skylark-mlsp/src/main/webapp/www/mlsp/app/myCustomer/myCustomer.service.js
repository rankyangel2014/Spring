/**
 * 提供客户查询部分的后台交互服务
 */

(function () {
'use strict';
var rspList='{"success":true,"errMsg":"交易执行成功","total":34,"root":[{"_SQL_CODE":0,"_areaId":"","_fileName":"","_id":0,"_insttuId":"","_isUnLoad":"","_pageLimit":0,"_pageStart":0,"_rspCode":"","_rspMsg":"","_sqlListName":"","_sqlTxt":"","_total":0,"_transCode":"","_userId":"","_uuid":"","account":"","accountName":"","adTitle":"","adTypeId":"","agricultureType":"","bankAddr":"","bankCd":"","birthday":"","companyType":"","contact":"","crtDate":"","crtOper":"","custAddr":"","custClass":"0","custManagerName":"姚静","custManagerNo":"","custName":"江苏嘉宝再生资源科技有限公司","custNo":"374165","custType":"1","deleteList":[],"domain":"","grade":"","grntFlag":"0","inTrade":"","industrySort":"","investAmt":0,"investPct":0,"isAutoBlackList":"","isBlack":"","liceNo":"68161161-5","linkCustNo":"","linkType":"","loanFlag":"0","loiFlag":"","marryStatus":"","modifyDate":"","modifyOper":"","noRecNotice":false,"operate":"","optFlagInter":"","orgNo":"320581001","orgRelCustFlg":"","paperNo":"320581000183687","paperType":"10","phoneNo":"1233333333","recId":0,"referrer":"","remark":"","resultList":[],"scienceType":"","sex":"F","typeName":"","useCurOrgNo":true,"userId":""},{"_SQL_CODE":0,"_areaId":"","_fileName":"","_id":0,"_insttuId":"","_isUnLoad":"","_pageLimit":0,"_pageStart":0,"_rspCode":"","_rspMsg":"","_sqlListName":"","_sqlTxt":"","_total":0,"_transCode":"","_userId":"","_uuid":"","account":"","accountName":"","adTitle":"","adTypeId":"","agricultureType":"","bankAddr":"","bankCd":"","birthday":"","companyType":"","contact":"","crtDate":"","crtOper":"","custAddr":"","custClass":"0","custManagerName":"姚静","custManagerNo":"","custName":"李志玲","custNo":"374355","custType":"0","deleteList":[],"domain":"","grade":"","grntFlag":"1","inTrade":"","industrySort":"","investAmt":0,"investPct":0,"isAutoBlackList":"","isBlack":"","liceNo":"","linkCustNo":"","linkType":"","loanFlag":"0","loiFlag":"","marryStatus":"","modifyDate":"","modifyOper":"","noRecNotice":false,"operate":"","optFlagInter":"","orgNo":"320581001","orgRelCustFlg":"","paperNo":"120225197701266029","paperType":"0","phoneNo":"1233333333","recId":0,"referrer":"","remark":"","resultList":[],"scienceType":"","sex":"M","typeName":"","useCurOrgNo":true,"userId":""},{"_SQL_CODE":0,"_areaId":"","_fileName":"","_id":0,"_insttuId":"","_isUnLoad":"","_pageLimit":0,"_pageStart":0,"_rspCode":"","_rspMsg":"","_sqlListName":"","_sqlTxt":"","_total":0,"_transCode":"","_userId":"","_uuid":"","account":"","accountName":"","adTitle":"","adTypeId":"","agricultureType":"","bankAddr":"","bankCd":"","birthday":"","companyType":"","contact":"","crtDate":"","crtOper":"","custAddr":"","custClass":"0","custManagerName":"姚静","custManagerNo":"","custName":"常熟市招商城商务中心有限公司","custNo":"374378","custType":"1","deleteList":[],"domain":"","grade":"","grntFlag":"0","inTrade":"","industrySort":"","investAmt":0,"investPct":0,"isAutoBlackList":"","isBlack":"","liceNo":"74681706-8","linkCustNo":"","linkType":"","loanFlag":"0","loiFlag":"","marryStatus":"","modifyDate":"","modifyOper":"","noRecNotice":false,"operate":"","optFlagInter":"","orgNo":"320581001","orgRelCustFlg":"","paperNo":"320581000056447","paperType":"10","phoneNo":"9833333333","recId":0,"referrer":"","remark":"","resultList":[],"scienceType":"","sex":"M","typeName":"","useCurOrgNo":true,"userId":""},{"_SQL_CODE":0,"_areaId":"","_fileName":"","_id":0,"_insttuId":"","_isUnLoad":"","_pageLimit":0,"_pageStart":0,"_rspCode":"","_rspMsg":"","_sqlListName":"","_sqlTxt":"","_total":0,"_transCode":"","_userId":"","_uuid":"","account":"","accountName":"","adTitle":"","adTypeId":"","agricultureType":"","bankAddr":"","bankCd":"","birthday":"","companyType":"","contact":"","crtDate":"","crtOper":"","custAddr":"","custClass":"0","custManagerName":"姚静","custManagerNo":"","custName":"黄莹芝","custNo":"376416","custType":"0","deleteList":[],"domain":"","grade":"","grntFlag":"1","inTrade":"","industrySort":"","investAmt":0,"investPct":0,"isAutoBlackList":"","isBlack":"","liceNo":"","linkCustNo":"","linkType":"","loanFlag":"0","loiFlag":"","marryStatus":"","modifyDate":"","modifyOper":"","noRecNotice":false,"operate":"","optFlagInter":"","orgNo":"320581001","orgRelCustFlg":"","paperNo":"440509197406304820","paperType":"0","phoneNo":"","recId":0,"referrer":"","remark":"","resultList":[],"scienceType":"","sex":"F","typeName":"","useCurOrgNo":true,"userId":""},{"_SQL_CODE":0,"_areaId":"","_fileName":"","_id":0,"_insttuId":"","_isUnLoad":"","_pageLimit":0,"_pageStart":0,"_rspCode":"","_rspMsg":"","_sqlListName":"","_sqlTxt":"","_total":0,"_transCode":"","_userId":"","_uuid":"","account":"","accountName":"","adTitle":"","adTypeId":"","agricultureType":"","bankAddr":"","bankCd":"","birthday":"","companyType":"","contact":"","crtDate":"","crtOper":"","custAddr":"","custClass":"0","custManagerName":"姚静","custManagerNo":"","custName":"王民生","custNo":"376704","custType":"0","deleteList":[],"domain":"","grade":"","grntFlag":"1","inTrade":"","industrySort":"","investAmt":0,"investPct":0,"isAutoBlackList":"","isBlack":"","liceNo":"","linkCustNo":"","linkType":"","loanFlag":"0","loiFlag":"","marryStatus":"","modifyDate":"","modifyOper":"","noRecNotice":false,"operate":"","optFlagInter":"","orgNo":"320581001","orgRelCustFlg":"","paperNo":"330725195501273918","paperType":"0","phoneNo":"","recId":0,"referrer":"","remark":"","resultList":[],"scienceType":"","sex":"","typeName":"","useCurOrgNo":true,"userId":""},{"_SQL_CODE":0,"_areaId":"","_fileName":"","_id":0,"_insttuId":"","_isUnLoad":"","_pageLimit":0,"_pageStart":0,"_rspCode":"","_rspMsg":"","_sqlListName":"","_sqlTxt":"","_total":0,"_transCode":"","_userId":"","_uuid":"","account":"","accountName":"","adTitle":"","adTypeId":"","agricultureType":"","bankAddr":"","bankCd":"","birthday":"","companyType":"","contact":"","crtDate":"","crtOper":"","custAddr":"","custClass":"0","custManagerName":"姚静","custManagerNo":"","custName":"张星明","custNo":"378152","custType":"0","deleteList":[],"domain":"","grade":"","grntFlag":"1","inTrade":"","industrySort":"","investAmt":0,"investPct":0,"isAutoBlackList":"","isBlack":"","liceNo":"","linkCustNo":"","linkType":"","loanFlag":"0","loiFlag":"","marryStatus":"","modifyDate":"","modifyOper":"","noRecNotice":false,"operate":"","optFlagInter":"","orgNo":"320581001","orgRelCustFlg":"","paperNo":"320921198706263833","paperType":"0","phoneNo":"","recId":0,"referrer":"","remark":"","resultList":[],"scienceType":"","sex":"","typeName":"","useCurOrgNo":true,"userId":""},{"_SQL_CODE":0,"_areaId":"","_fileName":"","_id":0,"_insttuId":"","_isUnLoad":"","_pageLimit":0,"_pageStart":0,"_rspCode":"","_rspMsg":"","_sqlListName":"","_sqlTxt":"","_total":0,"_transCode":"","_userId":"","_uuid":"","account":"","accountName":"","adTitle":"","adTypeId":"","agricultureType":"","bankAddr":"","bankCd":"","birthday":"","companyType":"","contact":"","crtDate":"","crtOper":"","custAddr":"","custClass":"0","custManagerName":"姚静","custManagerNo":"","custName":"陈波","custNo":"378175","custType":"0","deleteList":[],"domain":"","grade":"","grntFlag":"1","inTrade":"","industrySort":"","investAmt":0,"investPct":0,"isAutoBlackList":"","isBlack":"","liceNo":"","linkCustNo":"","linkType":"","loanFlag":"0","loiFlag":"","marryStatus":"","modifyDate":"","modifyOper":"","noRecNotice":false,"operate":"","optFlagInter":"","orgNo":"320581001","orgRelCustFlg":"","paperNo":"320520196307300425","paperType":"0","phoneNo":"","recId":0,"referrer":"","remark":"","resultList":[],"scienceType":"","sex":"","typeName":"","useCurOrgNo":true,"userId":""},{"_SQL_CODE":0,"_areaId":"","_fileName":"","_id":0,"_insttuId":"","_isUnLoad":"","_pageLimit":0,"_pageStart":0,"_rspCode":"","_rspMsg":"","_sqlListName":"","_sqlTxt":"","_total":0,"_transCode":"","_userId":"","_uuid":"","account":"","accountName":"","adTitle":"","adTypeId":"","agricultureType":"","bankAddr":"","bankCd":"","birthday":"","companyType":"","contact":"","crtDate":"","crtOper":"","custAddr":"","custClass":"0","custManagerName":"姚静","custManagerNo":"","custName":"陈岳军","custNo":"378216","custType":"0","deleteList":[],"domain":"","grade":"","grntFlag":"1","inTrade":"","industrySort":"","investAmt":0,"investPct":0,"isAutoBlackList":"","isBlack":"","liceNo":"","linkCustNo":"","linkType":"","loanFlag":"0","loiFlag":"","marryStatus":"","modifyDate":"","modifyOper":"","noRecNotice":false,"operate":"","optFlagInter":"","orgNo":"320581001","orgRelCustFlg":"","paperNo":"320520198102060412","paperType":"0","phoneNo":"","recId":0,"referrer":"","remark":"","resultList":[],"scienceType":"","sex":"","typeName":"","useCurOrgNo":true,"userId":""},{"_SQL_CODE":0,"_areaId":"","_fileName":"","_id":0,"_insttuId":"","_isUnLoad":"","_pageLimit":0,"_pageStart":0,"_rspCode":"","_rspMsg":"","_sqlListName":"","_sqlTxt":"","_total":0,"_transCode":"","_userId":"","_uuid":"","account":"","accountName":"","adTitle":"","adTypeId":"","agricultureType":"","bankAddr":"","bankCd":"","birthday":"","companyType":"","contact":"","crtDate":"","crtOper":"","custAddr":"","custClass":"0","custManagerName":"姚静","custManagerNo":"","custName":"常熟市虞山镇祖刚酒业商行","custNo":"378339","custType":"1","deleteList":[],"domain":"","grade":"","grntFlag":"1","inTrade":"","industrySort":"","investAmt":0,"investPct":0,"isAutoBlackList":"","isBlack":"","liceNo":"L4441239-2","linkCustNo":"","linkType":"","loanFlag":"0","loiFlag":"","marryStatus":"","modifyDate":"","modifyOper":"","noRecNotice":false,"operate":"","optFlagInter":"","orgNo":"320581001","orgRelCustFlg":"","paperNo":"320581600983402","paperType":"10","phoneNo":"","recId":0,"referrer":"","remark":"","resultList":[],"scienceType":"","sex":"","typeName":"","useCurOrgNo":true,"userId":""},{"_SQL_CODE":0,"_areaId":"","_fileName":"","_id":0,"_insttuId":"","_isUnLoad":"","_pageLimit":0,"_pageStart":0,"_rspCode":"","_rspMsg":"","_sqlListName":"","_sqlTxt":"","_total":0,"_transCode":"","_userId":"","_uuid":"","account":"","accountName":"","adTitle":"","adTypeId":"","agricultureType":"","bankAddr":"","bankCd":"","birthday":"","companyType":"","contact":"","crtDate":"","crtOper":"","custAddr":"","custClass":"0","custManagerName":"姚静","custManagerNo":"","custName":"江苏新吴地贸易发展有限公司","custNo":"378375","custType":"1","deleteList":[],"domain":"","grade":"","grntFlag":"1","inTrade":"","industrySort":"","investAmt":0,"investPct":0,"isAutoBlackList":"","isBlack":"","liceNo":"55118817-7","linkCustNo":"","linkType":"","loanFlag":"0","loiFlag":"","marryStatus":"","modifyDate":"","modifyOper":"","noRecNotice":false,"operate":"","optFlagInter":"","orgNo":"320581001","orgRelCustFlg":"","paperNo":"320581000216844","paperType":"10","phoneNo":"","recId":0,"referrer":"","remark":"","resultList":[],"scienceType":"","sex":"","typeName":"","useCurOrgNo":true,"userId":""}]}';
var rspPB='{"success":true,"errMsg":"交易执行成功","rspCode":"000000","data":{"_SQL_CODE":0,"_areaId":"","_fileName":"","_id":0,"_insttuId":"","_isUnLoad":"","_pageLimit":0,"_pageStart":0,"_rspCode":"","_rspMsg":"","_sqlListName":"","_sqlTxt":"","_total":0,"_transCode":"","_userId":"","_uuid":"","account":"","accountName":"","adTitle":"","adTypeId":"","agricultureType":"1","bankAddr":"","bankCd":"","birthday":"1974-06-30","companyType":"","contact":"13813913912,仙桥永安居委内洋1930线西18号","crtDate":"","crtOper":"","custAddr":"","custClass":"0","custManagerName":"","custManagerNo":"","custName":"黄莹芝","custNo":"376416","custType":"0","deleteList":[],"domain":"","grade":"","grntFlag":"","inTrade":"","industrySort":"","investAmt":0,"investPct":0,"isAutoBlackList":"","isBlack":"","liceNo":"","linkCustNo":"","linkType":"","loanFlag":"","loiFlag":"","marryStatus":"10","modifyDate":"","modifyOper":"","noRecNotice":false,"operate":"","optFlagInter":"","orgNo":"","orgRelCustFlg":"","paperNo":"440509197406304820","paperType":"0","phoneNo":"","recId":0,"referrer":"","remark":"","resultList":[],"scienceType":"","sex":"F","typeName":"","useCurOrgNo":true,"userId":""}}';

function test($q,url,params,rsp){
    var t={
    		post:function(){
    			var deferred= $q.defer();
    			if(typeof rsp!="object") 
    			rsp=JSON.parse(rsp);
    			deferred.resolve(rsp);
    			var promise = deferred.promise;
    			return promise;
    		}
    };
    return t;

}

angular
    .module('myCustomer')
    .factory('myCustomerSer',
        ['jnHttp', 'jnUser', 'jnForm','$q',
        function (jnHttp, jnUser, jnForm,$q) {
            return {
                readList: function (params) {
                if (jnUser.hasStation('400')) {
                    params.custManagerNo = jnUser.userId;
                    params.userId = jnUser.userId;
                }
                
                var url='';
                if(jnUser.hasStation('400')){
                	url='/mlsp/router/rest.do?_transCode=QRY105';
                }else{
//                	url='/mlsp/router/rest.do?_transCode=QRY105';
                	url='/mlsp/router/rest.do?_transCode=CIM172';
                }
              return jnHttp.post(
                       url , params)
                        .then(function (rsp) {
                            return {
                                items: rsp.root,
                                total: rsp.total,
                            };
                        });
                
                },
                
                qryDetail: function(params){
                	 params.userId = jnUser.userId;
                	 
                	 return jnHttp.post(
                             '/mlsp/router/rest.do?_transCode=QRY102', params);
                	
                }
                
                
            };
        }]
    );

})();


