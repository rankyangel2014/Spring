<ion-view view-title="企业关联人新增">
    <ion-nav-buttons side="left">
        <jn-back></jn-back>
    </ion-nav-buttons>
    <ion-nav-buttons side="secondary">
        <button
             class="button button-clear"
             ng-click="ctrl.submit()"
        >保存</button>
    </ion-nav-buttons>
    <ion-content>
        <form name="ctrl.editForm" jn-edit-form>
            <ion-list>
                <ion-item class="item-input">
                    <span class="input-label required">客户名称</span>
                    <input
                        type="text"
                        name="custName"
                        ng-model="ctrl.form.cCustName"
                        ng-readonly="ctrl.form.custNo"
                        ng-required="true"
                        maxlength="120"
                        placeholder="请输入客户名称"
                    />
                    <!--
                    <jn-select-customer
                        cust-no="ctrl.form.pCustNo"
                        cust-type="1"
                        ng-model="ctrl.form.cCustName"
                        ng-model-cust-no="ctrl.form.custNo"
                        ng-model-phone="ctrl.form.phoneNo"
                        ng-model-reg-no="ctrl.form.regNo"
                        ng-model-lice-no="ctrl.form.liceNo"
                        ng-model-card-merge="ctrl.form.cardMerge"
                        ng-model-lice-no-found="ctrl.liceNoFound"
                        ng-model-reg-no-found="ctrl.regNoFound"
                        ng-readonly="ctrl.form.custNo"
                        ng-required="true"
                        placeholder="请输入客户名称"
                    ></jn-select-customer>
                    -->
                </ion-item>
                <ion-item class="item-input">
                    <span class="input-label required">与客户关系</span>
                    <jn-multi-select
                        name="linkType"
                        options="ctrl.linkTypeOptions"
                        required
                        ng-model="ctrl.form.linkType"
                        placeholder="请选择与客户关系"
                    ></jn-multi-select>
                </ion-item>
                <ion-item class="item-input">
                    <span class="input-label">三证合一</span>
                    <!-- <select
                        name="cardMerge"
                        ng-model="ctrl.form.cardMerge"
                        ng-disabled="ctrl.liceNoFound"
                        jn-options="5064"
                    ></select> -->
                <ion-radio ng-disabled="ctrl.liceNoFound" style='border:0px;' name='cardMerge'  ng-model='ctrl.form.cardMerge'  ng-checked="ctrl.form.cardMerge"  value='N' checked>否</ion-radio>
                <ion-radio ng-disabled="ctrl.liceNoFound" style='border:0px;' name='cardMerge'  ng-model='ctrl.form.cardMerge'  ng-checked="ctrl.form.cardMerge"  value='Y' >是</ion-radio>
                
                </ion-item>
                <ion-item
                    class="item-input"
                    ng-if="'Y' === ctrl.form.cardMerge"
                >
                    <span class="input-label">统一信用代码</span>
                    <jn-input-lice-no
                        name="liceNo"
                        ng-model="ctrl.form.liceNo"
                        ng-model-cust-no="ctrl.form.custNo"
                        ng-model-cust-name="ctrl.form.cCustName"
                        ng-model-addr="ctrl.form.addressEnb"
                        ng-model-addr-type="ctrl.form.addressType"
                        ng-model-addr-desc="ctrl.form.addressTypeOtherDesc"
                        ng-model-phone="ctrl.form.phoneNo"
                        ng-model-biz-hours="ctrl.form.businessHours"
                        ng-model-biz-start="ctrl.form.businessStartDt"
                        ng-model-emp-num="ctrl.form.employeeNum"
                        ng-model-in-trade="ctrl.form.inTrade"
                        ng-model-loan-card="ctrl.form.loanCard"
                        ng-model-main-biz="ctrl.form.mainBusiness"
                        ng-model-org-type="ctrl.form.orgType"
                        ng-model-found="ctrl.liceNoFound"
                        ng-readonly="ctrl.liceNoFound"
                        placeholder="请输入统一信用代码"
                    ></jn-input-lice-no>
                </ion-item>
                <ion-item
                    class="item-input"
                    ng-if="'N' === ctrl.form.cardMerge"
                >
                    <span class="input-label">组织机构代码</span>
                    <input
                        type="text"
                        name="orgNo"
                        ng-model="ctrl.form.orgNo"
                        jn-org-no
                        placeholder="请输入组织机构代码"
                    />
                </ion-item>
                <ion-item
                    class="item-input"
                    ng-if="'N' === ctrl.form.cardMerge"
                >
                    <span class="input-label">营业执照</span>
                    <jn-input-reg-no
                        name="regNo"
                        ng-model="ctrl.form.regNo"
                        ng-model-cust-no="ctrl.form.custNo"
                        ng-model-cust-name="ctrl.form.cCustName"
                        ng-model-addr="ctrl.form.addressEnb"
                        ng-model-addr-type="ctrl.form.addressType"
                        ng-model-addr-desc="ctrl.form.addressTypeOtherDesc"
                        ng-model-phone="ctrl.form.phoneNo"
                        ng-model-biz-hours="ctrl.form.businessHours"
                        ng-model-biz-start="ctrl.form.businessStartDt"
                        ng-model-emp-num="ctrl.form.employeeNum"
                        ng-model-in-trade="ctrl.form.inTrade"
                        ng-model-loan-card="ctrl.form.loanCard"
                        ng-model-main-biz="ctrl.form.mainBusiness"
                        ng-model-org-type="ctrl.form.orgType"
                        ng-model-found="ctrl.regNoFound"
                        ng-readonly="ctrl.regNoFound"
                        placeholder="请输入营业执照"
                    ></jn-input-reg-no>
                </ion-item>
                <ion-item class="item-input">
                    <span class="input-label">贷款卡编号</span>
                    <input
                        type="text"
                        name="loanCard"
                        ng-model="ctrl.form.loanCard"
                        placeholder="请输入贷款卡编号"
                    />
                </ion-item>
                <ion-item class="item-input">
                    <span class="input-label">所属行业</span>
                    <jn-select-intrade
                        name="inTrade"
                        ng-model="ctrl.form.inTrade"
                        label="ctrl.form.inTradeName"
                        placeholder="请输入所属行业"
                    ></jn-select-intrade>
                </ion-item>
                <ion-item class="item-input">
                    <span class="input-label">联系方式</span>
                    <input
                        type="tel"
                        name="phoneNo"
                        ng-model="ctrl.form.phoneNo"
                        jn-phone
                        placeholder="请输入电话号码"
                    />
                </ion-item>
                <ion-item class="item-input item-select">
                    <span class="input-label">法律实体</span>
                    <select
                        name="orgType"
                        ng-model="ctrl.form.orgType"
                        jn-options="5014"
                    ></select>
                </ion-item>
                <ion-item class="item-input">
                    <span class="input-label">主营业务</span>
                    <input
                        type="text"
                        name="mainBusiness"
                        ng-model="ctrl.form.mainBusiness"
                        placeholder="请输入主营业务"
                    />
                </ion-item>
                <ion-item class="item-input">
                    <span class="input-label">业务开始时间</span>
                    <input
                        type="date"
                        name="businessStartDt"
                        ng-model="ctrl.form.businessStartDt"
                    />
                </ion-item>
                <ion-item class="item-input">
                    <span class="input-label">营业时间</span>
                    <input
                        type="text"
                        name="businessHours"
                        ng-model="ctrl.form.businessHours"
                        placeholder="请输入营业时间"
                    />
                </ion-item>
                <ion-item class="item-input">
                    <span class="input-label">雇员数量</span>
                    <input
                        type="number"
                        name="employeeNum"
                        min="0"
                        jn-integer
                        ng-model="ctrl.form.employeeNum"
                        placeholder="请输入雇员数量"
                    />
                </ion-item>
                <ion-item class="item-input">
                    <span class="input-label">实际经营地址</span>
                    <input
                        type="text"
                        name="address"
                        ng-model="ctrl.form.addressEnb"
                        placeholder="请输入实际经营地址"
                    />
                </ion-item>
                <ion-item class="item-input item-select">
                    <span class="input-label">经营场所</span>
                    <select
                        name="addressType"
                        ng-model="ctrl.form.addressType"
                    >
                        <option value="">-- 请选择 --</option>
                        <option value="1">自有</option>
                        <option value="2">租赁</option>
                        <option value="4">其他</option>
                    </select>
                </ion-item>
                <ion-item
                    class="item-input"
                    ng-if="'4' === ctrl.form.addressType"
                >
                    <span class="input-label"></span>
                    <input
                        type="text"
                        name="addressTypeOtherDesc"
                        ng-model="ctrl.form.addressTypeOtherDesc"
                        placeholder="请输入经营场所"
                    />
                </ion-item>
            </ion-list>
        </form>
    </ion-content>
</ion-view>
